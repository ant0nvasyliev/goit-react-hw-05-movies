{"version":3,"file":"static/js/747.d16eea5f.chunk.js","mappings":"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","sources":["api.js","pages/DetailsPage/DetailsPage.styled.js","pages/DetailsPage/DetailsPage.jsx"],"sourcesContent":["import axios from 'axios';\nconst API_KEY = 'dc91215467161f87202b108d8a3b1132';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nexport const fetchMovies = async () => {\n  const response = await axios(`/movie/top_rated?api_key=${API_KEY}`);\n  return response.data;\n};\n\nexport const fetchMoviesByID = async id => {\n  const response = await axios(`/movie/${id}?api_key=${API_KEY}`);\n  return response.data;\n};\n\nexport const fetchReviews = async id => {\n  const response = await axios(`/movie/${id}/reviews?api_key=${API_KEY}`);\n  return response.data;\n};\n\nexport const fetchCast = async id => {\n  const response = await axios(`/movie/${id}/credits?api_key=${API_KEY}`);\n  return response.data;\n};\nexport const fetchMovieByQuery = async query => {\n  const response = await axios(\n    `/search/movie?api_key=${API_KEY}&query=${query}`\n  );\n  return response.data;\n};","import styled from \"styled-components\";\n\nexport const MovieCardContainer = styled.div`\npadding: 40px;\n`;\n\nexport const MovieCardTitle = styled.h2`\ntext-align: center;\n`;\n\nexport const MovieCardItem = styled.div`\n display: flex;\n`;\nexport const MovieCardImg = styled.img`\n  border-radius: 6px;\n  box-shadow: 0px 0px 20px grey;\n`;\nexport const MovieCardOverviewContainer = styled.div`\npadding:20px;\nmax-width:400px;\n`;","import { fetchMoviesByID } from 'api';\nimport { Suspense, useEffect, useRef, useState } from 'react';\nimport { Link, Outlet, useLocation, useParams } from 'react-router-dom';\nimport {\n  MovieCardContainer,\n  MovieCardTitle,\n  MovieCardItem,\n  MovieCardImg,\n  MovieCardOverviewContainer,\n} from './DetailsPage.styled';\n\nconst DetailsPage = () => {\n  const { id } = useParams();\n  const [movie, setMovie] = useState(null);\n  const location = useLocation();\n  const backLinkLocationRef = useRef(location.state?.from ?? '/');\n\n  useEffect(() => {\n    const getMovieById = async () => {\n      try {\n        const data = await fetchMoviesByID(id);\n        setMovie(data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    getMovieById();\n  }, [id]);\n\n  if (movie === null) {\n    return;\n  }\n\n  const { title, poster_path, vote_average, overview, genres, release_date } =\n    movie;\n\n  const poster = `http://image.tmdb.org/t/p/w300${poster_path}`;\n  const tags =\n    genres &&\n    genres.map(genre => {\n      return <li key={genre.id}>{genre.name}</li>;\n    });\n\n  return (\n    <>\n      <Link to={backLinkLocationRef.current}>Назад</Link>\n      <MovieCardContainer>\n        <MovieCardTitle>\n          {title}({release_date})\n        </MovieCardTitle>\n        <MovieCardItem>\n          <div>\n            <MovieCardImg src={poster} alt={title} />\n          </div>\n          <MovieCardOverviewContainer>\n            <h3>Overview</h3>\n            <p>{overview}</p>\n          </MovieCardOverviewContainer>\n          <MovieCardOverviewContainer>\n            <h3>Genres</h3>\n            <ul>{tags}</ul>\n            <h3>User Score: {vote_average} %</h3>\n          </MovieCardOverviewContainer>\n          <MovieCardOverviewContainer>\n            <h3>Info</h3>\n            <ul>\n              <li>\n                <Link to=\"cast\">Cast</Link>\n              </li>\n              <li>\n                <Link to=\"reviews\">Reviews</Link>\n              </li>\n            </ul>\n          </MovieCardOverviewContainer>\n        </MovieCardItem>\n\n        <Suspense>\n          <Outlet />\n        </Suspense>\n      </MovieCardContainer>\n    </>\n  );\n};\n\nexport default DetailsPage;\n"],"names":["API_KEY","axios","fetchMovies","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","response","_context","prev","next","concat","sent","abrupt","data","stop","apply","arguments","fetchMoviesByID","_ref2","_callee2","id","_context2","_x","fetchReviews","_ref3","_callee3","_context3","_x2","fetchCast","_ref4","_callee4","_context4","_x3","fetchMovieByQuery","_ref5","_callee5","query","_context5","_x4","MovieCardContainer","styled","_templateObject","_taggedTemplateLiteral","MovieCardTitle","_templateObject2","MovieCardItem","_templateObject3","MovieCardImg","_templateObject4","MovieCardOverviewContainer","_templateObject5","_location$state$from","_location$state","useParams","_useState","useState","_useState2","_slicedToArray","movie","setMovie","location","useLocation","backLinkLocationRef","useRef","state","from","useEffect","getMovieById","t0","console","log","title","poster_path","vote_average","overview","genres","release_date","poster","tags","map","genre","_jsx","children","name","_jsxs","_Fragment","Link","to","current","src","alt","Suspense","Outlet"],"sourceRoot":""}